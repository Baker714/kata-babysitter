{"ast":null,"code":"var _jsxFileName = \"D:\\\\GitRepos\\\\kata-babysitter\\\\src\\\\components\\\\CalculatePayForm.js\";\nimport React, { Component } from 'react';\nimport './CalculatePayForm.css';\nimport TimePicker from 'react-time-picker'; //going with react-time-picker\n//import '../../node_modules/jquery-timepicker/jquery.timepicker.js';\n//import '../../node_modules/jquery-timepicker/jquery.timepicker.css';\n//tried various timepickers, couldnt' get jquery timepicker to work\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst timeArray = [\"17\", \"18\", \"19\", \"20\", \"21\", \"22\", \"23\", \"00\", \"01\", \"02\", \"03\", \"04\"]; //creating timeArray list to properly calculate hours babysitting. Changed to two length strings to account for half/quarter hours.\n//Changing back because Full Hours (5:30 t Midnight wouldn't make sense otherwise)\n\nclass CalculatePayForm extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      startTime: \"\",\n      bedTime: \"\",\n      endTime: \"\",\n      amountToCharge: '0'\n    };\n    this.submitForm = this.submitForm.bind(this); //this.amountToCharge = React.createRef(); tried to create ref to update amountToCharge value, found better way with querySelector. Update, did not find a better way\n  }\n\n  changeStartTimeField(event) {\n    this.setState({\n      startTime: event\n    }); //tartTimeString.substring(0,2)});\n  } //let startTimeString = event.toString(); Was going to grab only substring to account for half hours, going to do that in the calculatePay method now\n  // console.log(startTimeString.substring(0,2));\n  //if(event < \"17:00\"){\n  //alert(\"Start Time must be after 5:00P.M.\");\n  // console.log(document.getElementById(\"startTimePicker\").value); logging\n  // console.log(document.querySelector(\"#startTimePicker\").value);\n  //this.refs.startTimePicker.value = \"\"; setting up the ref didn't quite work either\n  //this.setState({startTime: null});\n  //console.log(this.startTimeRef.value);\n  //this.startTimeRef.current.value = null;\n  //document.querySelector('startTimePicker').value = \"\"; tried to set value to empty, couldn't grab it this way\n  //}\n\n\n  changeBedTimeField(event) {\n    //let bedTimeString = event.toString(); Was going to convert to grab substring, unneeded now\n    // console.log(event.toString());\n    this.setState({\n      bedTime: event\n    }); //bedTimeString.substring(0,2)});\n  }\n\n  changeEndTimeField(event) {\n    this.setState({\n      endTime: event\n    });\n  } // let endTimeString = event.toString();\n  // console.log(event);\n  // if(event > \"04:00\") //Removed validation here, no way to reset timepicker easily\n  //   alert(\"End Time must be before 4:00A.M.\");\n  // else\n\n\n  submitForm(event) {\n    event.preventDefault(); // let startTime = this.state.startTime;\n    // let bedTime = this.state.bedTime;\n    // let endTime = this.state.endTime;\n\n    let startTimeString = this.state.startTime.toString();\n    let bedTimeString = this.state.bedTime.toString();\n    let endTimeString = this.state.endTime.toString(); // console.log(typeof startTime);\n\n    if (this.validateTimes(startTimeString, bedTimeString, endTimeString)) {\n      this.calculatePay(startTimeString, bedTimeString, endTimeString);\n    }\n  } //Put this in its own method for easier unit testing\n\n\n  calculatePay(startTimeString, bedTimeString, endTimeString) {\n    let amountToCharge = 0;\n    amountToCharge += (timeArray.indexOf(bedTimeString.substring(0, 2)) - timeArray.indexOf(startTimeString.substring(0, 2))) * 12;\n    amountToCharge += (timeArray.indexOf(\"00\") - timeArray.indexOf(bedTimeString.substring(0, 2))) * 8;\n    amountToCharge += (timeArray.indexOf(endTimeString.substring(0, 2)) - timeArray.indexOf(\"00\")) * 16;\n    document.querySelector('#amountToCharge').innerText = \"$\" + amountToCharge.toFixed(2);\n  }\n\n  validateTimes(startTime, bedTime, endTime) {\n    let startTimeString = startTime.toString();\n    let bedTimeString = bedTime.toString();\n    let endTimeString = endTime.toString();\n    let alertMessage = \"\"; // console.log(startTime); //Logging for testing\n\n    if (startTime === \"\" || bedTime === \"\" || endTime === \"\") {\n      alertMessage += \"Please fill in all fields before submitting\\n\\n\";\n    }\n\n    if (startTimeString.substring(3, 5) !== \"00\" || bedTimeString.substring(3, 5) !== \"00\" || endTimeString.substring(3, 5) !== \"00\") {\n      alertMessage += \"Please use only whole hours\\n\\n\";\n    } // console.log(timeArray.indexOf(startTime)); //Logging for testing\n\n\n    if (timeArray.indexOf(startTimeString.substring(0, 2)) === -1 || timeArray.indexOf(startTimeString.substring(0, 2)) > timeArray.indexOf(bedTimeString.substring(0, 2))) {\n      alertMessage += \"Start Time must be between 5:00P.M. and Bed Time\\n\\n\";\n    }\n\n    if (timeArray.indexOf(bedTimeString.substring(0, 2)) === -1 || timeArray.indexOf(bedTimeString.substring(0, 2)) < timeArray.indexOf(startTimeString.substring(0, 2)) && timeArray.indexOf(bedTimeString.substring(0, 2)) > timeArray.indexOf(endTimeString.substring(0, 2))) {\n      alertMessage += \"Bed Time must be between Start Time and End Time\\n\\n\";\n    }\n\n    if (timeArray.indexOf(bedTimeString.substring(0, 2)) !== -1 && timeArray.indexOf(bedTimeString.substring(0, 2)) >= timeArray.indexOf(\"00\")) {\n      alertMessage += \"Bed Time must be before Midnight\\n\\n\";\n    }\n\n    if (timeArray.indexOf(endTimeString.substring(0, 2)) === -1 || timeArray.indexOf(endTimeString.substring(0, 2)) < timeArray.indexOf(\"00\") && timeArray.indexOf(endTimeString.substring(0, 2)) > timeArray.indexOf(\"04\")) {\n      alertMessage += \"End Time must be between Midnight and 4:00A.M.\\n\\n\";\n    }\n\n    if (alertMessage !== \"\") {\n      alert(alertMessage);\n      return false;\n    }\n\n    return true;\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"calcPayDiv\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.submitForm,\n        id: \"calcPayForm\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"startTimeDiv\",\n          children: [\"Start Time: \", /*#__PURE__*/_jsxDEV(TimePicker, {\n            id: \"startTimePicker\",\n            disableClock: true,\n            value: this.state.startTime,\n            onChange: this.changeStartTimeField.bind(this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 46\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          hidden: true,\n          children: \"Test error\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"bedTimeDiv\",\n          children: [\"Bed Time: \", /*#__PURE__*/_jsxDEV(TimePicker, {\n            id: \"bedTimePicker\",\n            disableClock: true,\n            value: this.state.bedTime,\n            onChange: this.changeBedTimeField.bind(this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"endTimeDiv\",\n          children: [\"End Time: \", /*#__PURE__*/_jsxDEV(TimePicker, {\n            id: \"endTimePicker\",\n            disableClock: true,\n            value: this.state.endTime,\n            onChange: this.changeEndTimeField.bind(this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          value: \"Calculate Pay\",\n          id: \"calcPayButton\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"amountToCharge\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default CalculatePayForm;","map":{"version":3,"sources":["D:/GitRepos/kata-babysitter/src/components/CalculatePayForm.js"],"names":["React","Component","TimePicker","timeArray","CalculatePayForm","constructor","props","state","startTime","bedTime","endTime","amountToCharge","submitForm","bind","changeStartTimeField","event","setState","changeBedTimeField","changeEndTimeField","preventDefault","startTimeString","toString","bedTimeString","endTimeString","validateTimes","calculatePay","indexOf","substring","document","querySelector","innerText","toFixed","alertMessage","alert","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport './CalculatePayForm.css';\r\nimport TimePicker from 'react-time-picker'; //going with react-time-picker\r\n//import '../../node_modules/jquery-timepicker/jquery.timepicker.js';\r\n//import '../../node_modules/jquery-timepicker/jquery.timepicker.css';\r\n//tried various timepickers, couldnt' get jquery timepicker to work\r\n\r\nconst timeArray = [\"17\",\"18\",\"19\",\"20\",\"21\",\"22\",\"23\",\"00\",\"01\",\"02\",\"03\",\"04\"]; //creating timeArray list to properly calculate hours babysitting. Changed to two length strings to account for half/quarter hours.\r\n                                                                                                                    //Changing back because Full Hours (5:30 t Midnight wouldn't make sense otherwise)\r\n\r\nclass CalculatePayForm extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {startTime: \"\", bedTime: \"\", endTime: \"\", amountToCharge: '0'};\r\n    this.submitForm = this.submitForm.bind(this);\r\n    //this.amountToCharge = React.createRef(); tried to create ref to update amountToCharge value, found better way with querySelector. Update, did not find a better way\r\n  }\r\n\r\n  changeStartTimeField(event){\r\n    this.setState({startTime: event});//tartTimeString.substring(0,2)});\r\n  }\r\n    //let startTimeString = event.toString(); Was going to grab only substring to account for half hours, going to do that in the calculatePay method now\r\n    // console.log(startTimeString.substring(0,2));\r\n    //if(event < \"17:00\"){\r\n      //alert(\"Start Time must be after 5:00P.M.\");\r\n      // console.log(document.getElementById(\"startTimePicker\").value); logging\r\n      // console.log(document.querySelector(\"#startTimePicker\").value);\r\n      //this.refs.startTimePicker.value = \"\"; setting up the ref didn't quite work either\r\n      //this.setState({startTime: null});\r\n      //console.log(this.startTimeRef.value);\r\n      //this.startTimeRef.current.value = null;\r\n      //document.querySelector('startTimePicker').value = \"\"; tried to set value to empty, couldn't grab it this way\r\n    //}\r\n\r\n  changeBedTimeField(event){\r\n    //let bedTimeString = event.toString(); Was going to convert to grab substring, unneeded now\r\n    // console.log(event.toString());\r\n    this.setState({bedTime: event});//bedTimeString.substring(0,2)});\r\n  }\r\n\r\n  changeEndTimeField(event){\r\n    this.setState({endTime: event});\r\n  }\r\n    // let endTimeString = event.toString();\r\n    // console.log(event);\r\n    // if(event > \"04:00\") //Removed validation here, no way to reset timepicker easily\r\n    //   alert(\"End Time must be before 4:00A.M.\");\r\n    // else\r\n\r\n  submitForm(event) {\r\n    event.preventDefault();\r\n    // let startTime = this.state.startTime;\r\n    // let bedTime = this.state.bedTime;\r\n    // let endTime = this.state.endTime;\r\n    let startTimeString = this.state.startTime.toString();\r\n    let bedTimeString = this.state.bedTime.toString();\r\n    let endTimeString = this.state.endTime.toString();\r\n    // console.log(typeof startTime);\r\n    if(this.validateTimes(startTimeString, bedTimeString, endTimeString)){\r\n      this.calculatePay(startTimeString, bedTimeString, endTimeString);\r\n    }\r\n  }\r\n\r\n  //Put this in its own method for easier unit testing\r\n  calculatePay(startTimeString, bedTimeString, endTimeString){\r\n    let amountToCharge = 0;\r\n\r\n    amountToCharge += (timeArray.indexOf(bedTimeString.substring(0,2))-timeArray.indexOf(startTimeString.substring(0,2)))*12;\r\n    amountToCharge += (timeArray.indexOf(\"00\")-timeArray.indexOf(bedTimeString.substring(0,2)))*8;\r\n    amountToCharge += (timeArray.indexOf(endTimeString.substring(0,2))-timeArray.indexOf(\"00\"))*16;\r\n    document.querySelector('#amountToCharge').innerText = \"$\"+amountToCharge.toFixed(2);\r\n  }\r\n\r\n  validateTimes(startTime, bedTime, endTime) {\r\n    let startTimeString = startTime.toString();\r\n    let bedTimeString = bedTime.toString();\r\n    let endTimeString = endTime.toString();\r\n\r\n    let alertMessage = \"\";\r\n    // console.log(startTime); //Logging for testing\r\n    if(startTime === \"\" || bedTime === \"\" || endTime === \"\"){\r\n      alertMessage += \"Please fill in all fields before submitting\\n\\n\";\r\n    }\r\n\r\n    if(startTimeString.substring(3,5) !== \"00\" || bedTimeString.substring(3,5) !== \"00\"  || endTimeString.substring(3,5) !== \"00\" ){\r\n      alertMessage += \"Please use only whole hours\\n\\n\";\r\n    }\r\n    // console.log(timeArray.indexOf(startTime)); //Logging for testing\r\n    if(timeArray.indexOf(startTimeString.substring(0,2)) === -1 || timeArray.indexOf(startTimeString.substring(0,2)) > timeArray.indexOf(bedTimeString.substring(0,2))){\r\n      alertMessage += \"Start Time must be between 5:00P.M. and Bed Time\\n\\n\";\r\n    }\r\n\r\n    if(timeArray.indexOf(bedTimeString.substring(0,2)) === -1 || (timeArray.indexOf(bedTimeString.substring(0,2)) < timeArray.indexOf(startTimeString.substring(0,2)) && timeArray.indexOf(bedTimeString.substring(0,2)) > timeArray.indexOf(endTimeString.substring(0,2)))){\r\n      alertMessage += \"Bed Time must be between Start Time and End Time\\n\\n\";\r\n    }\r\n\r\n    if(timeArray.indexOf(bedTimeString.substring(0,2)) !== -1 && timeArray.indexOf(bedTimeString.substring(0,2)) >= timeArray.indexOf(\"00\")){\r\n      alertMessage += \"Bed Time must be before Midnight\\n\\n\";\r\n    }\r\n\r\n    if(timeArray.indexOf(endTimeString.substring(0,2)) === -1 || (timeArray.indexOf(endTimeString.substring(0,2)) < timeArray.indexOf(\"00\") && timeArray.indexOf(endTimeString.substring(0,2)) > timeArray.indexOf(\"04\"))){\r\n      alertMessage += \"End Time must be between Midnight and 4:00A.M.\\n\\n\";\r\n    }\r\n\r\n    if(alertMessage !== \"\"){\r\n      alert(alertMessage);\r\n      return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div id=\"calcPayDiv\">\r\n        <form onSubmit={this.submitForm} id=\"calcPayForm\">\r\n          <div id=\"startTimeDiv\">Start Time: <TimePicker id=\"startTimePicker\" disableClock={true} value={this.state.startTime} onChange={this.changeStartTimeField.bind(this)}/>\r\n          </div>\r\n          <div hidden={true}>Test error</div>\r\n          <br/>\r\n          <div id=\"bedTimeDiv\">Bed Time: <TimePicker id=\"bedTimePicker\" disableClock={true} value={this.state.bedTime} onChange={this.changeBedTimeField.bind(this)}/>\r\n          </div>\r\n          <br/>\r\n          <div id=\"endTimeDiv\">End Time: <TimePicker id=\"endTimePicker\" disableClock={true} value={this.state.endTime} onChange={this.changeEndTimeField.bind(this)}/>\r\n          </div>\r\n          <br/>\r\n          <input type=\"submit\" value=\"Calculate Pay\" id=\"calcPayButton\"/>\r\n        </form>\r\n        <br/>\r\n        <div id=\"amountToCharge\"></div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CalculatePayForm;\r\n"]},"metadata":{},"sourceType":"module"}